var productsNewArrials = [
  {
    image: "images/products/t-shirt-black.png",
    name: "T-SHIRT WITH TAPE DETAILS",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "4.5/",
    priceN: "$120",
    priceO: "",
    sale: "",
  },
  {
    image: "images/products/jean.png",
    name: "SKINNY FIT JEANS",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "3.5/",
    priceN: "$240",
    priceO: "$260",
    sale: "-20%",
  },
  {
    image: "images/products/t-shirt-caro.png",
    name: "CHECKERED SHIRT",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "4.5/",
    priceN: "$180",
    priceO: "",
    sale: "",
  },
  {
    image: "images/products/t-shirt-orange.png",
    name: "SLEEVE STRIPED T-SHIRT",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "4.5/",
    priceN: "$130",
    priceO: "$160",
    sale: "-30%",
  },
];
var productsTopselling = [
  {
    image: "images/products/t-shirt-vertical.png",
    name: "VERTICAL STRIPED SHIRT",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    score: "5/",
    priceN: "$212",
    priceO: "$232",
    sale: "-20%",
  },
  {
    image: "images/products/t-shirt-courage.png",
    name: "COURAGE GRAPHIC T-SHIRT",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    score: "4.0/",
    priceN: "$145",
    priceO: "",
    sale: "",
  },
  {
    image: "images/products/jean-short-loose.png",
    name: "LOOSE FIT BERMUDA SHORTS",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    score: "3.0/",
    priceN: "$80",
    priceO: "",
    sale: "",
  },
  {
    image: "images/products/jean-faded.png",
    name: "FADED SKINNY JEANS",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "4.5/",
    priceN: "$210",
    priceO: "",
    sale: "",
  },
];
var reviews = [
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    name: "Sarah M.",
    description: `"I'm blown away by the quality and style of the clothes I received from Shop.co. 
    From casual wear to elegant dresses, every piece I've bought has exceeded my expectations.”`,
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    name: "Alex K.",
    description: `"Finding clothes that align with my personal style used to be a challenge until I discovered Shop.co. 
    The range of options they offer is truly remarkable, catering to a variety of tastes and occasions.”`,
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    name: "James L.",
    description: `"As someone who's always on the lookout for unique fashion pieces, I'm thrilled to have stumbled upon Shop.co. 
    The selection of clothes is not only diverse but also on-point with the latest trends.”`,
  },
];
var ratting = [
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    name: "Samantha D.",
    description: `"I absolutely love this t-shirt! 
    The design is unique and the fabric feels so comfortable. 
    As a fellow designer, I appreciate the attention to detail. 
    It's become my favorite go-to shirt."`,
    date: "Posted on August 14, 2023",
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    name: "Alex M.",
    description: `"The t-shirt exceeded my expectations! 
    The colors are vibrant and the print quality is top-notch. 
    Being a UI/UX designer myself, I'm quite picky about aesthetics, 
    and this t-shirt definitely gets a thumbs up from me."`,
    date: "Posted on August 15, 2023",
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    name: "Ethan R.",
    description: `"This t-shirt is a must-have for anyone who appreciates good design. 
    The minimalistic yet stylish pattern caught my eye, and the fit is perfect. 
    I can see the designer's touch in every aspect of this shirt."`,
    date: "Posted on August 16, 2023",
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    name: "Olivia P.",
    description: `"As a UI/UX enthusiast, I value simplicity and functionality. 
    This t-shirt not only represents those principles but also feels great to wear. 
    It's evident that the designer poured their creativity into making this t-shirt stand out."`,
    date: "Posted on August 17, 2023",
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    name: "Liam K.",
    description: `"This t-shirt is a fusion of comfort and creativity. 
    The fabric is soft, and the design speaks volumes about the designer's skill. 
    It's like wearing a piece of art that reflects my passion for both design and fashion."`,
    date: "Posted on August 18, 2023",
  },
  {
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    name: "Ava H.",
    description: `"I'm not just wearing a t-shirt; 
    I'm wearing a piece of design philosophy. 
    The intricate details and thoughtful layout of the design make this shirt a conversation starter."`,
    date: "Posted on August 19, 2023",
  },
];
var alsoLikeProd = [
  {
    image: "images/products/polo-blue.png",
    name: "POLO WITH CONTRAST TRIMS",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    score: "4.0/",
    priceN: "$212",
    priceO: "$242",
    sale: "-20%",
  },
  {
    image: "images/products/gradient.png",
    name: "Gradient Graphic T-shirt",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "3.5/",
    priceN: "$145",
    priceO: "",
    sale: "",
  },
  {
    image: "images/products/jean-short-loose.png",
    name: "Polo with Tipping Details",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/half-star.png",
    ],
    score: "4.5/",
    priceN: "$180",
    priceO: "",
    sale: "",
  },
  {
    image: "images/products/black-striped.png",
    name: "FADED SKINNY JEANS",
    stars: [
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
      "images/icons/star.png",
    ],
    score: "5.0/",
    priceN: "$150",
    priceO: "$120",
    sale: "-30%",
  },
];
const countElement = document.getElementById("count");
const increaseButton = document.getElementById("increase");
const decreaseButton = document.getElementById("decrease");
if (increaseButton && decreaseButton) {
  let count = 1;

  increaseButton.addEventListener("click", () => {
    count++;
    countElement.textContent = count;
  });
  decreaseButton.addEventListener("click", () => {
    if (count > 1) {
      count--;
      countElement.textContent = count;
    }
  });
}

//
function createProductElement(product) {
  // Tạo thẻ div chứa sản phẩm và các thành phần của nó
  let productDiv = document.createElement("div");
  let productDivImg = document.createElement("div");
  productDivImg.classList.add("product-img");
  let productDivName = document.createElement("div");
  productDivName.classList.add("name-product");
  let assessDiv = document.createElement("div");
  assessDiv.classList.add("assess");
  // Tạo ảnh sản phẩm
  let productImg = document.createElement("img");
  productImg.src = product.image;
  productImg.alt = product.name;
  productDivImg.appendChild(productImg);

  // Tạo tên sản phẩm
  let productName = document.createElement("p");
  productName.textContent = product.name;
  productDivName.appendChild(productName);


  // Tạo phần đánh giá sao
  let starP = document.createElement("p");
  starP.classList.add("star");

  // Thêm các sao vào thẻ starP
  product.stars.forEach((star) => {
    let starImg = document.createElement("img");
    starImg.src = star;
    starP.appendChild(starImg);
  });

  // Tạo điểm đánh giá
  let scoreP = document.createElement("p");
  scoreP.classList.add("score");
  scoreP.textContent = product.score;
  let maxScore = document.createElement("p");
  maxScore.classList.add("max-score");
  maxScore.textContent = 5;

  // Gộp đánh giá vào assessSpan
  assessDiv.appendChild(starP);
  assessDiv.appendChild(scoreP);
  assessDiv.appendChild(maxScore);

  // Tạo giá sản phẩm
  let priceDiv = document.createElement("div");
  priceDiv.classList.add("price");

  let priceN = document.createElement("p");
  priceN.classList.add("price-new");
  priceN.textContent = product.priceN;

  let priceO = document.createElement("p");
  priceO.classList.add("price-old");
  priceO.textContent = product.priceO;

  priceDiv.appendChild(priceN);

  if (product.priceO !== "") {
    let priceO = document.createElement("p");
    priceO.classList.add("price-old");
    priceO.textContent = product.priceO;
    let saleDiv = document.createElement("div");
    saleDiv.classList.add("sale");
    let saleT = document.createElement("p");
    saleT.textContent = product.sale;
    saleDiv.appendChild(saleT);
    priceDiv.appendChild(priceO);
    priceDiv.appendChild(saleDiv);
  }
  // Thêm tất cả phần tử vào productDiv
  productDiv.appendChild(productDivImg);
  productDiv.appendChild(productDivName);
  productDiv.appendChild(assessDiv);
  productDiv.appendChild(priceDiv);

  return productDiv;
}
//
function createReviewElement(review) {
  let reviewsDiv = document.createElement("div");
  reviewsDiv.classList.add("comment");
  let reviewDiv = document.createElement("div");
  reviewDiv.classList.add("comment-main");
  let postedDiv = document.createElement("div");

  let starDiv = document.createElement("div");
  starDiv.classList.add("img");
  let starP = document.createElement("p");
  starP.classList.add("ass-star");

  review.stars.forEach((star) => {
    let starImg = document.createElement("img");
    starImg.src = star;
    starP.appendChild(starImg);
  });
  let dotsP = document.createElement("p");
  if (review.date) {
    let dots = document.createElement("img");
    dots.src = "images/icons/three-dots.png";
    dotsP.appendChild(dots);
    let postedP = document.createElement("p");
    postedP.classList.add("description");
    postedP.textContent = review.date;
    postedDiv.appendChild(postedP);
  }
  starDiv.appendChild(starP);
  starDiv.appendChild(dotsP);

  let user = document.createElement("span");
  user.classList.add("user");

  let userNameP = document.createElement("p");
  userNameP.classList.add("user-name");
  userNameP.textContent = review.name;

  let cumulus = document.createElement("img");
  cumulus.src = "images/icons/green-cumulus.png";

  user.appendChild(userNameP);
  user.appendChild(cumulus);

  let content = document.createElement("p");
  content.classList.add("description");
  content.textContent = review.description;

  reviewDiv.appendChild(starDiv);
  reviewDiv.appendChild(user);
  reviewDiv.appendChild(content);

  reviewsDiv.appendChild(reviewDiv);
  reviewsDiv.appendChild(postedDiv);

  return reviewsDiv;
}
//
function renderProducts(productList, container) {
  productList.forEach((product) => {
    let productElement = createProductElement(product);
    container.appendChild(productElement);
  });
}
//
function renderReviews(reviewList, container) {
  reviewList.forEach((review) => {
    let reviewElement = createReviewElement(review);
    container.appendChild(reviewElement);
  });
}
function selectColor(index) {
  let checkMarks = document.querySelectorAll(".checkMark");
  checkMarks.forEach((mark) => mark.classList.add("hidden"));
  checkMarks[index].classList.remove("hidden");
}
var sizes = document.querySelectorAll(".size");
sizes.forEach((size) => {
  size.addEventListener("click", function () {
    sizes.forEach((s) => s.classList.remove("active"));
    this.classList.add("active");
  });
});
var colors = document.querySelectorAll(".colors-color");
colors.forEach((color) => {
  color.addEventListener("click", function () {
    colors.forEach((x) => x.querySelector(".selected").classList.add("hidden"));
    this.querySelector(".selected").classList.remove("hidden");
  });
});

document.addEventListener("DOMContentLoaded", function () {
  let domProductNewArrials = document.getElementById("mid-na");
  if (domProductNewArrials) {
    renderProducts(productsNewArrials, domProductNewArrials);
  }
  let domProductTopselling = document.getElementById("mid-ts");
  if (domProductTopselling) {
    renderProducts(productsTopselling, domProductTopselling);
  }
  let domReview = document.getElementById("review-content");
  if (domReview) {
    renderReviews(reviews, domReview);
  }
  let review = document.getElementById("reviews-content");
  if (review) {
    renderReviews(ratting, review);
  }
  let domAlsoLikeProd = document.getElementById("nd");
  if (domAlsoLikeProd) {
    renderProducts(alsoLikeProd, domAlsoLikeProd);
  }
  const rangeMin = document.getElementById('range-min');
    const rangeMax = document.getElementById('range-max');
    const progress = document.getElementById('progress');
    const minValue = document.getElementById('min-value');
    const maxValue = document.getElementById('max-value');

    function updateSlider() {
      const min = parseInt(rangeMin.value);
      const max = parseInt(rangeMax.value);

      if (min > max - 50) {
        rangeMin.value = max - 50;
      }
      if (max < min + 50) {
        rangeMax.value = min + 50;
      }

      progress.style.left = (rangeMin.value / rangeMin.max) * 100 + '%';
      progress.style.right = 100 - (rangeMax.value / rangeMax.max) * 100 + '%';

      minValue.textContent = `$${rangeMin.value}`;
      maxValue.textContent = `$${rangeMax.value}`;
    }

    rangeMin.addEventListener('input', updateSlider);
    rangeMax.addEventListener('input', updateSlider);

    updateSlider();
});
